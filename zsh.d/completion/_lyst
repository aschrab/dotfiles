#compdef lyst

local context state line
typeset -A opt_args
local components

_arguments \
  '1:Catalyst directory:(base templates static js css lib project view controller model schema schema-result schema-resultset)' \
  '2:Subdirectory:->subdir' \
  && return 0

case "$state" in
  (subdir)
    _path_files -/ -W "$(__lyst_dir $line[1])"
    ;;
esac
